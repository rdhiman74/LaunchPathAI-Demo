<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>LaunchPath AI – Student Workplace</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg-main: #020617;
      --bg-card: #0b1220;
      --accent-blue: #38bdf8;
      --accent-purple: #a855f7;
      --accent-pink: #f973c9;
      --accent-gold: #facc15;
      --accent-cyan: #22d3ee;
      --text-main: #f9fafb;
      --text-muted: #9ca3af;
      --border-subtle: #1f2937;
      --font-sans: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
        "Segoe UI", sans-serif;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: var(--font-sans);
      background: radial-gradient(circle at top left, #1d2342 0, #020617 55%, #000 100%);
      color: var(--text-main);
      min-height: 100vh;
    }

    .page {
      max-width: 1180px;
      margin: 0 auto;
      padding: 24px 20px 40px;
    }

    /* HEADER */
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 24px;
      margin-bottom: 32px;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .brand-icon {
      width: 36px;
      height: 36px;
      border-radius: 14px;
      background: radial-gradient(circle at 30% 0, #38bdf8 0, #6366f1 40%, #020617 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 0.9rem;
      color: #e5e7eb;
      box-shadow: 0 0 0 2px rgba(56,189,248,0.6), 0 14px 30px rgba(15,23,42,0.95);
    }

    .brand-text-main {
      font-size: 1.06rem;
      font-weight: 650;
      letter-spacing: .06em;
      text-transform: uppercase;
    }

    nav {
      display: flex;
      gap: 16px;
      font-size: 0.86rem;
      flex-wrap: wrap;
    }

    nav a {
      color: var(--text-muted);
      text-decoration: none;
      padding: 6px 12px;
      border-radius: 999px;
      border: 1px solid transparent;
      white-space: nowrap;
    }

    nav a:hover {
      border-color: rgba(148,163,184,0.7);
      background: rgba(15,23,42,0.9);
      color: #e5e7eb;
    }

    nav a.active {
      border-color: rgba(56,189,248,0.85);
      background: rgba(15,23,42,0.98);
      color: #e0f2fe;
      box-shadow: 0 0 0 1px rgba(56,189,248,0.35);
    }

    /* HERO */
    .hero {
      display: grid;
      grid-template-columns: minmax(0, 1.4fr) minmax(0, 1fr);
      gap: 40px;
      align-items: center;
      margin-bottom: 40px;
    }

    .hero-eyebrow {
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      color: var(--text-muted);
      margin-bottom: 10px;
    }

    .hero-title {
      font-size: clamp(2.0rem, 2.6vw + 1.2rem, 2.7rem);
      line-height: 1.08;
      margin: 0 0 12px;
    }

    .hero-title span.blue {
      color: #60a5fa;
    }

    .hero-title span.purple {
      color: #c4b5fd;
    }

    .hero-title span.pink {
      color: #f9a8d4;
    }

    .hero-sub {
      margin-top: 8px;
      font-size: 0.98rem;
      color: #9ca3af;
      max-width: 560px;
      line-height: 1.55;
      text-align: justify;
    }

    .hero-tagline {
      margin-top: 16px;
      font-size: 0.98rem;
      color: #ffffff;
      font-weight: 600;
      max-width: 560px;
      line-height: 1.55;
      text-align: justify;
    }

    /* RINGS & LOGIN */
    .rings-label {
      font-size: 0.76rem;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.16em;
      margin-bottom: 10px;
      text-align: center;
      width: 100%;
      display: flex;
      justify-content: center;
    }

    .rings-row {
      display: flex;
      justify-content: flex-end;
      gap: 18px;
      flex-wrap: wrap;
    }

    .ring {
      width: 124px;
      height: 124px;
      border-radius: 999px;
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      font-size: 0.78rem;
      color: #e5e7eb;
    }

    .ring-inner {
      position: relative;
      z-index: 2;
      width: 92px;
      height: 92px;
      border-radius: 999px;
      background: radial-gradient(circle at top, #0f172a 0, #020617 75%);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 10px;
    }

    .ring::before {
      content: "";
      position: absolute;
      inset: 0;
      border-radius: inherit;
      padding: 3px;
      background: conic-gradient(#38bdf8, #6366f1, #a855f7, #38bdf8);
      -webkit-mask:
        linear-gradient(#000 0 0) content-box,
        linear-gradient(#000 0 0);
      -webkit-mask-composite: xor;
      mask-composite: exclude;
      opacity: 0.95;
    }

    .ring--match::before {
      background: conic-gradient(#facc15, #fb923c, #a855f7, #facc15);
    }

    .ring--social::before {
      background: conic-gradient(#22d3ee, #0ea5e9, #38bdf8, #22d3ee);
    }

    .ring-label-main {
      font-weight: 600;
      font-size: 0.8rem;
      margin-bottom: 4px;
    }

    .ring-label-sub {
      font-size: 0.66rem;
      color: #cbd5f5;
    }

    .login-buttons {
      text-align: right;
      margin-bottom: 18px;
      margin-top: -28px;
      padding-right: 10px;
    }

    .login-buttons button {
      padding: 8px 16px;
      border-radius: 20px;
      border: 1px solid #38bdf8;
      background: #0f172a;
      color: #e0f2fe;
      font-size: 0.85rem;
      cursor: pointer;
      margin-left: 8px;
    }

    .login-buttons button.school {
      border-color: #a855f7;
      color: #f3e8ff;
    }

    /* NAV login actions (uses same visual style as the old hero login buttons) */
.nav-actions{display:flex; align-items:center; gap:8px; flex-wrap:wrap}
.nav-actions a{
  padding: 8px 16px;
  border-radius: 20px;
  border: 1px solid #38bdf8;
  background: #0f172a;
  color: #e0f2fe;
  font-size: 0.85rem;
  cursor: pointer;
  text-decoration: none;
  line-height: 1.2;
  white-space: nowrap;
}
.nav-actions a.school{
  border-color: #a855f7;
  color: #f3e8ff;
}
/* Safety: hide any accidental duplicate nav rows */
.secondary-nav,.subnav,.page-nav,.mini-nav,.nav-pills,.floating-nav,.top-right-links,.quick-links,.bottom-nav,.footer-nav,nav.bottom,nav.sticky{display:none !important;}

/* HOW RINGS WORK */
    .section-heading {
      margin-top: 10px;
      font-size: 1rem;
      font-weight: 600;
    }

    .section-sub {
      font-size: 0.86rem;
      color: var(--text-muted);
      margin-bottom: 16px;
    }

    .grid-cards {
      display: grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 14px;
    }

    .card {
      background: var(--bg-card);
      border-radius: 18px;
      padding: 14px 14px 16px;
      border: 1px solid var(--border-subtle);
      box-shadow: 0 16px 36px rgba(0,0,0,0.7);
      font-size: 0.82rem;
    }

    .card-eyebrow {
      font-size: 0.72rem;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.16em;
      margin-bottom: 4px;
    }

    .card-title {
      font-size: 0.9rem;
      font-weight: 600;
      margin-bottom: 6px;
      color: #e5e7eb;
    }

    .card-body {
      font-size: 0.8rem;
      color: var(--text-muted);
      line-height: 1.5;
    }

    /* PRICING */
    .pricing-section{
      margin-top:50px;
    }
    .pricing-heading{
      font-size:1.15rem;
      font-weight:600;
      margin-bottom:6px;
    }
    .pricing-sub{
      font-size:0.9rem;
      color:#9ca3af;
      margin-bottom:20px;
    }
    .pricing-grid{
      display:grid;
      grid-template-columns:repeat(2,minmax(0,1fr));
      gap:18px;
    }
    .pricing-card{
      background:#0b1220;
      border-radius:20px;
      padding:18px 18px 20px;
      border:1px solid #1f2937;
      box-shadow:0 18px 38px rgba(0,0,0,0.75);
    }
    .pricing-label{
      font-size:0.8rem;
      text-transform:uppercase;
      letter-spacing:0.16em;
      color:#9ca3af;
      margin-bottom:6px;
    }
    .pricing-title{
      font-size:1.02rem;
      font-weight:600;
      margin-bottom:4px;
    }
    .pricing-price{
      font-size:1.6rem;
      font-weight:650;
      margin:6px 0 10px;
    }
    .pricing-price span{
      font-size:0.9rem;
      font-weight:400;
      color:#9ca3af;
      margin-left:4px;
    }
    .pricing-list{
      list-style:none;
      padding:0;
      margin:0 0 14px;
      font-size:0.86rem;
      color:#cbd5f5;
    }
    .pricing-list li{
      margin-bottom:4px;
    }
    .pricing-cta{
      display:inline-block;
      padding:8px 16px;
      border-radius:999px;
      border:1px solid #38bdf8;
      background:#020617;
      color:#e0f2fe;
      font-size:0.86rem;
      text-decoration:none;
    }
    .pricing-cta.school{
      border-color:#a855f7;
      color:#f3e8ff;
    }

    /* FAQ */
    .faq-trigger-wrapper{
      margin-top:32px;
      text-align:center;
    }
    .faq-button{
      display:inline-block;
      padding:10px 18px;
      border-radius:999px;
      border:1px solid #38bdf8;
      background:#020617;
      color:#e0f2fe;
      font-size:0.88rem;
      cursor:pointer;
    }
    .faq-button:hover{
      background:#0b1120;
      box-shadow:0 0 0 1px rgba(56,189,248,0.5);
    }

    .faq-backdrop{
      position:fixed;
      inset:0;
      background:rgba(15,23,42,0.8);
      display:none;
      z-index:40;
    }
    .faq-modal{
      position:fixed;
      inset:0;
      display:none;
      align-items:center;
      justify-content:center;
      z-index:50;
      pointer-events:none;
    }
    .faq-modal-inner{
      background:#020617;
      border-radius:20px;
      border:1px solid #1f2937;
      max-width:640px;
      width:90%;
      padding:20px 22px 18px;
      box-shadow:0 24px 60px rgba(0,0,0,0.85);
      pointer-events:auto;
    }
    .faq-modal-header{
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-bottom:10px;
    }
    .faq-modal-title{
      font-size:1rem;
      font-weight:600;
    }
    .faq-close{
      background:none;
      border:none;
      color:#9ca3af;
      font-size:1.2rem;
      cursor:pointer;
    }
    .faq-modal-body{
      font-size:0.86rem;
      color:#e5e7eb;
      max-height:360px;
      overflow:auto;
    }
    .faq-q{
      font-weight:600;
      margin-top:8px;
      margin-bottom:2px;
    }
    .faq-a{
      margin:0 0 4px;
      color:#cbd5f5;
    }

    @media (max-width: 960px) {
      header {
        flex-direction: column;
        align-items: flex-start;
      }
      nav {
        flex-wrap: wrap;
      }
      .hero {
        grid-template-columns: minmax(0, 1fr);
      }
      .login-buttons {
        text-align: left;
        margin-top: 8px;
        padding-right: 0;
      }
      .rings-row {
        justify-content: flex-start;
      }
      .pricing-grid{
        grid-template-columns:minmax(0,1fr);
      }
      .grid-cards {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    @media (max-width: 640px) {
      .grid-cards {
        grid-template-columns: minmax(0, 1fr);
      }
    }
  

/* Workspace specific */
.workspace-top{
  display:flex; align-items:flex-start; justify-content:space-between; gap:16px; flex-wrap:wrap;
  margin-top: 18px;
}
.workspace-actions{display:flex; gap:10px; align-items:center; flex-wrap:wrap}
.workspace-actions a{
  padding: 10px 16px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.18);
  background: rgba(255,255,255,.04);
  color: rgba(234,242,255,.86);
  text-decoration:none;
}
.workspace-actions a.primary{
  border-color: rgba(56,189,248,.55);
  box-shadow: 0 0 0 3px rgba(56,189,248,.10) inset;
}
.workspace-subline{margin-top:6px; color: rgba(234,242,255,.55); font-size: 0.95rem}
.workspace-pick{margin: 18px 0 14px; color: rgba(234,242,255,.85); font-size: 1.05rem}
.card .open-btn{
  display:inline-block;
  margin-top: 14px;
  padding: 10px 18px;
  border-radius: 999px;
  border: 1px solid rgba(56,189,248,.60);
  background: rgba(0,0,0,.20);
  color: rgba(234,242,255,.92);
  text-decoration:none;
}
.card .open-btn:hover{background: rgba(0,0,0,.28)}
/* Progress tile */
.progress-wrap{display:flex; gap:18px; align-items:center; justify-content:space-between; flex-wrap:wrap; margin-top: 6px}
.progress-rings{display:grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 22px 18px; justify-items:center; align-items:start}
.ringstat{
  width: 96px; height: 96px; border-radius: 50%;
  display:grid; place-items:center;
  background: conic-gradient(#38bdf8 var(--pct), rgba(255,255,255,.10) 0);
  position:relative;
}
.ringstat::after{
  content:"";
  position:absolute; inset:10px;
  background: rgba(8,12,24,.92);
  border-radius:50%;
  border: 1px solid rgba(255,255,255,.08);
}
.ringstat .val{
  position:relative;
  z-index:1;
  text-align:center;
  font-weight: 800;
  line-height: 1.05;
}
.ringstat .val small{display:block; color: rgba(234,242,255,.55); font-weight:700; font-size:.8rem}
.ringlabel{margin-top:10px; text-align:center; color: rgba(234,242,255,.70); font-weight:700; font-size: 13.5px; line-height:1.15; max-width: 130px}
.week-pill{
  padding: 8px 12px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.14);
  color: rgba(234,242,255,.70);
  background: rgba(255,255,255,.03);
  font-size: .85rem;
}



/* Workspace grid: 4 tiles per row (approved) */
.grid-cards{
  display:grid !important;
  grid-template-columns: repeat(4, minmax(0,1fr)) !important;
  gap: 18px !important;
}
@media (max-width: 1100px){
  .grid-cards{ grid-template-columns: repeat(2, minmax(0,1fr)) !important; }
}
@media (max-width: 720px){
  .grid-cards{ grid-template-columns: 1fr !important; }
}

/* Calendar tile preview */
.lp-calendar-tile{ cursor:pointer; }
.lp-calendar-tile:focus{ outline: 2px solid rgba(56,189,248,.55); outline-offset: 2px; }
.lp-cal-preview{
  margin-top: 14px;
  border-radius: 16px;
  background: rgba(255,255,255,.04);
  border: 1px solid rgba(56,189,248,.18);
  padding: 12px 12px 10px;
}
.lp-cal-preview-top{
  display:flex; align-items:center; justify-content:space-between; gap:10px;
  margin-bottom: 10px;
}
.lp-cal-preview-month{
  font-weight: 800;
  letter-spacing: -0.01em;
  color: rgba(226,232,240,.92);
}
.lp-cal-preview-chip{
  font-size: .78rem;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(56,189,248,.28);
  background: rgba(56,189,248,.10);
  color: rgba(224,242,254,.92);
  font-weight: 800;
}
.lp-cal-mini-grid{
  display:grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 6px;
  color: rgba(226,232,240,.78);
  font-size: .78rem;
}
.lp-cal-mini-grid .d{
  text-align:center;
  color: rgba(156,163,175,.9);
  font-weight: 800;
}
.lp-cal-mini-grid .n{
  text-align:center;
  padding: 6px 0;
  border-radius: 10px;
  background: rgba(255,255,255,.03);
  border: 1px solid rgba(255,255,255,.06);
}
.lp-cal-mini-grid .n.today{background:#ffffff;color:#0b1222;font-weight:900;border-color:rgba(255,255,255,.65);} 
.lp-cal-mini-grid .n.mark{
  background: rgba(56,189,248,.12);
  border-color: rgba(56,189,248,.22);
  color: rgba(224,242,254,.95);
  font-weight: 850;
}

/* Deadlines 2-column list tile */
.lp-deadlines-2col{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px 12px;
}
@media (max-width: 720px){
  .lp-deadlines-2col{ grid-template-columns: 1fr; }
}
.lp-deadline-compact{
  display:flex;
  gap:10px;
  align-items:flex-start;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(56,189,248,.16);
  background: rgba(56,189,248,.06);
  cursor:pointer;
  min-height: 54px;
}
.lp-deadline-compact:hover{ border-color: rgba(56,189,248,.28); }
.lp-deadline-compact .b{
  width: 26px; height: 26px; border-radius: 999px;
  display:grid; place-items:center;
  font-weight: 900;
  background: rgba(56,189,248,.95);
  color: rgba(15,23,42,0.98);
  flex: 0 0 auto;
}
.lp-deadline-compact .t{
  font-weight: 750;
  color: rgba(224,242,254,.92);
  font-size: .82rem;
  line-height: 1.2;
}
.lp-deadline-compact .s{
  margin-top: 3px;
  color: rgba(156,163,175,.92);
  font-size: .78rem;
  line-height: 1.2;
}
.lp-deadlines-more{
  margin-top: 10px;
  color: rgba(156,163,175,.85);
  font-size: .85rem;
}

/* Header alignment tweak: bring Home/Student Workplace closer to login buttons */
header{
  justify-content: flex-start !important;
}
header nav{
  margin-left: auto !important;
  flex: 0 0 auto !important;
}
header .nav-actions{
  margin-left: 14px !important;
}


/* NAV4 consistency: make Home + Student Workplace match pill style and keep spacing uniform */
header{
  display:flex;
  align-items:center;
  gap: 14px !important;
  justify-content:flex-start !important;
}
header nav{
  margin-left: auto !important;
  display:flex !important;
  align-items:center !important;
  gap: 10px !important;
}
header nav a{
  padding: 10px 16px !important;
  border-radius: 999px !important;
  border: 1px solid rgba(56,189,248,.45) !important;
  background: rgba(15,23,42,0.55) !important;
  color: rgba(224,242,254,.86) !important;
  text-decoration:none !important;
  line-height:1.1 !important;
  white-space:nowrap !important;
}
header nav a:hover{
  border-color: rgba(56,189,248,.75) !important;
  background: rgba(15,23,42,0.75) !important;
}
header nav a.active{
  box-shadow: 0 0 0 3px rgba(56,189,248,.12) inset !important;
  border-color: rgba(56,189,248,.90) !important;
}
header .nav-actions{ margin-left: 12px !important; }


/* NAV4 global header styling (uniform across pages) */
header{
  display:flex;
  align-items:center;
  gap: 14px;
  justify-content:flex-start;
}
header nav{
  margin-left:auto;
  display:flex;
  align-items:center;
  gap: 10px;
}
header nav a{
  padding: 10px 16px;
  border-radius: 999px;
  border: 1px solid rgba(56,189,248,.45);
  background: rgba(15,23,42,0.55);
  color: rgba(224,242,254,.86);
  text-decoration:none;
  line-height:1.1;
  white-space:nowrap;
}
header nav a:hover{
  border-color: rgba(56,189,248,.75);
  background: rgba(15,23,42,0.75);
}
header nav a.active{
  box-shadow: 0 0 0 3px rgba(56,189,248,.12) inset;
  border-color: rgba(56,189,248,.90);
}
header .nav-actions{
  margin-left: 12px;
  display:flex;
  gap: 10px;
  align-items:center;
}
header .nav-actions a{
  padding: 10px 16px;
  border-radius: 999px;
  border: 1px solid rgba(148,163,184,0.55);
  background: rgba(15,23,42,0.55);
  color: rgba(224,242,254,.86);
  text-decoration:none;
  line-height:1.1;
  white-space:nowrap;
}
header .nav-actions a:hover{
  border-color: rgba(56,189,248,.75);
}


.workspace-title{font-size:2.0rem !important;}

/* ===== LaunchPath unified header (scoped) ===== */
.lp-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:16px;
  margin-bottom:22px;
}
.lp-header-right{
  display:flex;
  align-items:center;
  gap:12px;
}
.brand-lockup{display:flex;align-items:center;gap:12px;}
.brand-mark{
  width:40px;height:40px;border-radius:999px;
  background:radial-gradient(circle at 30% 0,#22d3ee 0,#0ea5e9 40%,#111827 95%);
  box-shadow:0 0 0 2px rgba(56,189,248,.6),0 14px 30px rgba(15,23,42,.9);
}
.brand-text-main{
  font-size:1.05rem;
  letter-spacing:.14em;
  text-transform:uppercase;
  font-weight:700;
}
.brand-text-sub{
  font-size:.86rem;
  color:#cbd5f5;
}
.lp-nav{display:flex;align-items:center;gap:12px;}
.lp-nav-link{
  padding:10px 16px;
  border-radius:999px;
  border:1px solid rgba(56,189,248,.45);
  background:rgba(15,23,42,.55);
  color:rgba(224,242,254,.86);
  text-decoration:none;
  font-size:.86rem;
  line-height:1.1;
  white-space:nowrap;
}
.lp-nav-link:hover{border-color:rgba(56,189,248,.75);background:rgba(15,23,42,.75);}
.lp-actions{display:flex;align-items:center;gap:10px;}
.lp-action{
  padding:10px 16px;
  border-radius:999px;
  text-decoration:none;
  font-size:.86rem;
  white-space:nowrap;
  border:1px solid rgba(56,189,248,.75);
  background:rgba(15,23,42,.65);
  color:rgba(224,242,254,.92);
}
.lp-action.lp-school{
  border-color:rgba(168,85,247,.75);
}
.lp-action:hover{filter:brightness(1.05);}
@media(max-width:840px){
  .lp-header{flex-direction:column;align-items:flex-start;}
  .lp-header-right{width:100%;justify-content:space-between;}
}


/* Workspace actions: keep buttons horizontal (no stacking) */
.workspace-actions{flex-wrap:nowrap !important; justify-content:flex-end !important;}
.workspace-top{align-items:center !important;}
@media (max-width: 640px){
  .workspace-actions{flex-wrap:wrap !important;}
}


/* WORKSPACE header actions: keep in top bar, horizontal */
.lp-header-workspace .lp-header-right{
  margin-left:auto !important;
  justify-content:flex-end !important;
}
.lp-header-workspace .lp-actions{
  display:flex !important;
  gap:10px !important;
  align-items:center !important;
}

/* ===== LaunchPath unified header (2 buttons) ===== */
.lp-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:16px;
  margin-bottom:22px;
}
.lp-header-right{display:flex;align-items:center;gap:12px;margin-left:auto;justify-content:flex-end;}
.brand-lockup{display:flex;align-items:center;gap:12px;}
.brand-mark{
  width:40px;height:40px;border-radius:999px;
  background:radial-gradient(circle at 30% 0,#22d3ee 0,#0ea5e9 40%,#111827 95%);
  box-shadow:0 0 0 2px rgba(56,189,248,.6),0 14px 30px rgba(15,23,42,.9);
}
.brand-text-main{
  font-size:1.05rem;
  letter-spacing:.14em;
  text-transform:uppercase;
  font-weight:700;
}
.brand-text-sub{font-size:.86rem;color:#cbd5f5;}
.lp-nav{display:flex;align-items:center;gap:12px;margin-left:auto;justify-content:flex-end;}
.lp-nav-link{
  padding:10px 16px;
  border-radius:999px;
  border:1px solid rgba(56,189,248,.45);
  background:rgba(15,23,42,.55);
  color:rgba(224,242,254,.86);
  text-decoration:none;
  font-size:.86rem;
  line-height:1.1;
  white-space:nowrap;
}
.lp-nav-link:hover{border-color:rgba(56,189,248,.75);background:rgba(15,23,42,.75);}
.lp-actions{display:flex;align-items:center;gap:10px;}
.lp-action{
  padding:10px 16px;
  border-radius:999px;
  text-decoration:none;
  font-size:.86rem;
  white-space:nowrap;
  border:1px solid rgba(56,189,248,.75);
  background:rgba(15,23,42,.65);
  color:rgba(224,242,254,.92);
}
.lp-action.lp-school{border-color:rgba(168,85,247,.75);}
@media(max-width:840px){
  .lp-header{flex-direction:column;align-items:flex-start;}
  .lp-header-right{width:100%;justify-content:space-between;}
}
/* ===== End header ===== */

/* ===== Saved Items Modal ===== */
.lp-modal.hidden{display:none;}
.lp-modal{position:fixed;inset:0;z-index:9999;}
.lp-modal-backdrop{position:absolute;inset:0;background:rgba(0,0,0,.55);backdrop-filter: blur(2px);}
.lp-modal-card{
  position:relative;
  width:min(760px, calc(100% - 28px));
  margin: 80px auto;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,.10);
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  box-shadow: 0 24px 70px rgba(0,0,0,.6);
  padding: 14px 16px 12px;
}
.lp-modal-header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:10px;}
.lp-modal-header h3{margin:0;font-size:1.05rem;letter-spacing:.02em;}
.lp-x{border:0;background:transparent;color:#e2e8f0;font-size:1.1rem;cursor:pointer;padding:6px 8px;border-radius:10px;}
.lp-x:hover{background:rgba(255,255,255,.06);}
.lp-modal-body{max-height: 55vh; overflow:auto; padding-right: 4px;}
.saved-row{display:flex;align-items:flex-start;justify-content:space-between;gap:10px;padding:10px 10px;border-radius:14px;border:1px solid rgba(255,255,255,.08);background:rgba(2,6,23,.25);margin-bottom:10px;}
.saved-name{font-weight:700;color:#e5e7eb;}
.saved-meta{font-size:.86rem;color:#cbd5f5;margin-top:2px;}
.remove-btn{border:1px solid rgba(255,255,255,.14);background:rgba(15,23,42,.55);color:#e2e8f0;border-radius:999px;padding:7px 10px;font-size:.82rem;cursor:pointer;white-space:nowrap;}
.remove-btn:hover{border-color:rgba(34,211,238,.65);}
.lp-modal-footer{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-top:10px;}
.lp-secondary-link{color:#cbd5f5;text-decoration:none;font-size:.9rem;}
.lp-secondary-link:hover{color:#22d3ee;}
.lp-danger{border:1px solid rgba(248,113,113,.55);background:rgba(127,29,29,.35);color:#fecaca;border-radius:999px;padding:8px 12px;font-size:.86rem;cursor:pointer;}
.lp-danger:hover{border-color:rgba(248,113,113,.85);}
.empty{color:#cbd5f5;padding:12px 4px;}
/* ===== End Modal ===== */


/* Rings clickable */
.ringstat{ position: relative; }
.ringstat[role="button"]{ cursor:pointer; }
.ringstat[role="button"]:hover{ filter: brightness(1.06); }

/* Center ring numbers/labels reliably */
.ringstat .val{
  position:absolute;
  left:50%;
  top:50%;
  transform:translate(-50%,-58%);
  text-align:center;
  width:70%;
}
.ringstat .val .num{ display:block; margin:0 auto; text-align:center; }
.ringstat .val .sub{ display:block; margin:2px auto 0; text-align:center; opacity:.85; }


/* Make rings clearly clickable */
.progress-rings .ringstat[role="button"]{ cursor:pointer; }
.progress-rings .ringstat[role="button"]:hover{ filter:brightness(1.06); }

/* Center the numbers inside rings (works with <div class="val">7<small>saved</small></div>) */
.progress-rings .ringstat{ position:relative; }
.progress-rings .ringstat .val{
  position:absolute;
  left:50%;
  top:50%;
  transform:translate(-50%,-50%);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  text-align:center;
  width:70%;
  line-height:1.05;
}
.progress-rings .ringstat .val small{
  display:block;
  opacity:.85;
  font-size:.9em;
  margin-top:4px;
}


/* Center ring values */
.progress-rings .ringstat{ position:relative; }
.progress-rings .ringstat .val{
  position:absolute;
  left:50%;
  top:50%;
  transform:translate(-50%,-50%);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  text-align:center;
  width:70%;
  line-height:1.05;
}
.progress-rings .ringstat .val small{
  display:block;
  opacity:.85;
  font-size:.9em;
  margin-top:4px;
}
/* Saved note under rings */
.lp-saved-note{ margin-top:12px; color:rgba(203,213,245,.95); font-size:.9rem; }
/* Click overlay for rings */
.progress-rings .ringstat{ position:relative; }
.progress-rings .lp-ring-click{
  position:absolute; inset:0;
  background:transparent; border:0; padding:0;
  cursor:pointer;
}
.progress-rings .ringstat:hover{ filter:brightness(1.06); }
.progress-rings .ringstat:focus-within{ outline:2px solid rgba(34,211,238,.65); outline-offset:4px; border-radius:999px; }


/* Make entire ring (incl. number) clickable */
.lp-ring-link{
  position:absolute;
  inset:0;
  border:0;
  background:transparent;
  cursor:pointer;
  border-radius:999px;
}
.lp-ring-link:focus{
  outline:2px solid rgba(56,189,248,.65);
  outline-offset:3px;
}


/* Ensure ring overlay captures clicks everywhere (including number/text) */
.ringstat .val{ pointer-events:none; position:relative; z-index:2; }
.ringstat .lp-ring-click, .ringstat .lp-ring-link{ z-index:3; }


/* ===== Calendar (Workspace) ===== */
.lp-deadlines{
  margin-top: 14px;
  padding-top: 14px;
  border-top: 1px solid rgba(255,255,255,.08);
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap: 14px;
}
.lp-deadlines-title{
  font-size: .82rem;
  color: rgba(234,242,255,.85);
  font-weight: 700;
  letter-spacing: .06em;
  text-transform: none;
}
.lp-deadlines-list{ margin-top: 10px; display:flex; flex-direction:column; gap: 10px; }
.lp-deadline-item{
  display:flex;
  gap: 10px;
  align-items:flex-start;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(56,189,248,.18);
  background: rgba(56,189,248,.06);
  cursor:pointer;
}
.lp-deadline-badge{
  width: 26px; height: 26px; border-radius: 999px;
  display:grid; place-items:center;
  font-weight: 800;
  color: rgba(2,6,23,.95);
  background: rgba(56,189,248,.95);
  box-shadow: 0 14px 28px rgba(0,0,0,.35);
  flex: 0 0 auto;
  margin-top: 1px;
}
.lp-deadline-main{ font-weight: 750; color: rgba(234,242,255,.92); font-size: .88rem; }
.lp-deadline-meta{ margin-top: 3px; font-size: .78rem; color: rgba(203,213,245,.85); }
.lp-deadlines-more{ margin-top: 10px; font-size: .78rem; color: rgba(203,213,245,.65); }
.lp-cal-open{
  flex:0 0 auto;
  align-self:flex-start;
  padding: 10px 14px;
  border-radius: 12px;
  border: 1px solid rgba(56,189,248,.55);
  background: rgba(2,6,23,.35);
  color: rgba(224,242,254,.92);
  font-size: .86rem;
  font-weight: 650;
  cursor:pointer;
}
.lp-cal-open:hover{ border-color: rgba(56,189,248,.85); }

/* Overlay */
.lp-cal-overlay{
  position:fixed;
  inset:0;
  background: rgba(0,0,0,.62);
  display:none;
  align-items:flex-start;
  justify-content:center;
  padding: 18px;
  z-index: 12000;
  overflow:auto;
}
.lp-cal-shell{
  width: min(1080px, 96vw);
  margin: 18px auto;
  border-radius: 22px;
  border: 1px solid rgba(255,255,255,.10);
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  box-shadow: 0 24px 70px rgba(0,0,0,.70);
  overflow:hidden;
}
.lp-cal-head{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap: 12px;
  padding: 16px 18px 12px;
  border-bottom: 1px solid rgba(255,255,255,.08);
}
.lp-cal-head-title{ font-size: 1.05rem; font-weight: 700; color: #e5e7eb; }
.lp-cal-head-sub{ margin-top: 6px; color: rgba(203,213,245,.85); font-size: .86rem; line-height:1.45; max-width: 680px; }
.lp-cal-close{
  border: 1px solid rgba(148,163,184,.24);
  background: rgba(2,6,23,.35);
  color: rgba(226,232,240,.92);
  padding: 10px 12px;
  border-radius: 12px;
  cursor:pointer;
  font-weight: 650;
}
.lp-cal-controls{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding: 12px 18px;
  border-bottom: 1px solid rgba(255,255,255,.08);
}
.lp-cal-nav{display:flex;align-items:center;gap:10px;}
.lp-cal-icon{
  width: 36px; height: 36px;
  border-radius: 12px;
  border: 1px solid rgba(148,163,184,.22);
  background: rgba(2,6,23,.35);
  color: rgba(226,232,240,.9);
  cursor:pointer;
  font-size: 18px;
  display:grid;
  place-items:center;
}
.lp-cal-icon:hover{ border-color: rgba(56,189,248,.55); }
.lp-cal-month{ min-width: 170px; font-weight: 700; color: rgba(226,232,240,.95); }
.lp-cal-select{
  height: 36px;
  border-radius: 12px;
  border: 1px solid rgba(148,163,184,.22);
  background: rgba(2,6,23,.35);
  color: rgba(226,232,240,.92);
  padding: 0 12px;
  font-weight: 650;
  cursor:pointer;
}

/* White calendar card (matches sample) */
.lp-cal-white{
  margin: 16px 18px 18px;
  background: #F7FAFF;
  border: 1px solid rgba(230,236,245,.95);
  border-radius: 18px;
  overflow:hidden;
}
.lp-cal-dow{
  display:grid;
  grid-template-columns: repeat(7, 1fr);
  background:#fff;
  border-bottom: 1px solid #E6ECF5;
}
.lp-cal-dow div{
  padding: 10px 12px;
  font-size: 12px;
  color: #64748B;
  font-weight: 700;
  border-right: 1px solid #E6ECF5;
}
.lp-cal-dow div:last-child{ border-right:none; }
.lp-cal-grid{
  display:grid;
  grid-template-columns: repeat(7, 1fr);
  min-height: 520px;
  background:#fff;
}
.lp-cal-cell{
  border-right: 1px solid #E6ECF5;
  border-bottom: 1px solid #E6ECF5;
  padding: 10px 10px 12px;
  position:relative;
}
.lp-cal-cell:nth-child(7n){ border-right:none; }
.lp-cal-cell.out{ background:#FBFCFF; opacity:.72; }
.lp-cal-date{
  display:flex; align-items:center; justify-content:space-between;
  gap:10px;
  font-size: 12px;
  color: #0F172A;
  font-weight: 700;
  margin-bottom: 8px;
}
.lp-cal-date .m{ font-size: 11px; color: #64748B; font-weight: 700; }
.lp-cal-evt{
  display:flex;
  gap:8px;
  align-items:flex-start;
  padding: 8px 10px;
  border-radius: 14px;
  background: #ECF5FF;
  border: 1px solid rgba(56,189,248,.25);
  cursor:pointer;
  margin-top: 8px;
}
.lp-cal-evt:hover{ border-color: rgba(56,189,248,.40); }
.lp-cal-ava{
  width: 22px; height: 22px;
  border-radius: 999px;
  display:grid;
  place-items:center;
  background: rgba(56,189,248,.18);
  color: rgba(30,64,175,.95);
  font-weight: 800;
  font-size: 12px;
  flex: 0 0 auto;
  margin-top: 1px;
}
.lp-cal-evt .name{ font-size: 12px; font-weight: 800; color: #0F172A; line-height: 1.15; }
.lp-cal-evt .meta{ margin-top: 3px; font-size: 11px; color: #64748B; }
.lp-cal-more{ margin-top: 8px; font-size: 11px; color: #64748B; font-weight: 700; }

/* Mini modal */
.lp-cal-mini-bg{
  position:fixed;
  inset:0;
  background: rgba(2,6,23,.50);
  display:none;
  align-items:center;
  justify-content:center;
  padding:18px;
  z-index: 13000;
}
.lp-cal-mini{
  width: min(520px, 96vw);
  background:#fff;
  border-radius: 18px;
  border: 1px solid #E6ECF5;
  box-shadow: 0 22px 70px rgba(0,0,0,.55);
  overflow:hidden;
}
.lp-cal-mini-head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  padding: 14px 16px;
  border-bottom: 1px solid #E6ECF5;
}
.lp-cal-mini-title{ font-weight: 800; color:#0F172A; }
.lp-cal-mini-close{
  border: 1px solid #E6ECF5;
  background:#fff;
  border-radius: 12px;
  padding: 8px 10px;
  cursor:pointer;
  font-weight: 700;
  color:#0F172A;
}
.lp-cal-mini-body{ padding: 14px 16px 16px; color:#0F172A; font-size: 13px; }
.lp-cal-kv{
  display:grid;
  grid-template-columns: 140px 1fr;
  gap:10px;
  padding: 8px 0;
  border-bottom: 1px dashed #E6ECF5;
}
.lp-cal-kv:last-child{ border-bottom:none; }
.lp-cal-k{ color:#64748B; font-weight: 700; }

</style>
</head>
<body>
  <div class="page">
<header class="lp-header">
  <div class="brand-lockup">
    <div class="brand-mark"></div>
    <div class="brand-text">
      <div class="brand-text-main">LAUNCHPATH AI</div>
      <div class="brand-text-sub">College Match · Essays · ROI · Social Studio</div>
    </div>
  </div>
  <nav class="lp-nav">
    <a class="lp-nav-link" href="index.html">Home</a>
    <a class="lp-nav-link" href="student-workplace.html">Student Workplace</a>
  </nav>
</header>

<section>
  <div class="workspace-top">
    <div>
      <h1 style="margin:0; font-size:2.0rem; letter-spacing:-0.5px;" class="workspace-title">Student Workspace</h1>
<div class="workspace-subline">Hi Jacob • Basking Ridge</div>
      <div class="workspace-pick">Pick a module to continue:</div>
    </div>

    </div>

  <div class="grid-cards">
    <article class="card">
      <div class="card-title">College Match</div>
      <div class="card-body">Build a balanced list (Safety / Target / Reach) based on GPA &amp; SAT.</div>
      <a class="open-btn" href="college-match.html">Open</a>
    </article>

    <article class="card">
      <div class="card-title">Essay Studio</div>
      <div class="card-body">Draft, Smart Review, Polish + draft strength indicator.</div>
      <a class="open-btn" href="essay-studio.html">Open</a>
    </article>

    <article class="card">
      <div class="card-title">Social Media Studio</div>
      <div class="card-body">Generate 15–20 sec captions and student branding copy.</div>
      <a class="open-btn" href="social-studio.html">Open</a>
    </article>

    <article class="card">
      <div class="card-title">Scattergram</div>
      <div class="card-body">Visualize outcomes vs GPA/SAT (demo data).</div>
      <a class="open-btn" href="scattergram.html">Open</a>
    </article>

    <article class="card">
      <div class="card-title">ROI Calculator</div>
      <div class="card-body">Compare two colleges on cost, payoff, and breakeven time.</div>
      <a class="open-btn" href="roi-calculator.html">Open</a>
    </article>

    <article class="card">
      <div class="card-title">Your Progress</div>
      <div class="card-body">A quick snapshot of what you’ve completed so far.</div>

      <div class="progress-wrap" style="margin-top: 14px;">
        <div class="progress-rings">
          <div style="text-align:center">
            <div class="ringstat" style="--pct:40%;"><div class="val">2<small>/ 15</small></div>
              <button class="lp-ring-click" data-type="essay" aria-label="View saved essays"></button>
            </div>
            <div class="ringlabel">Essays</div>
          </div>
          <div style="text-align:center">
            <div class="ringstat" style="--pct:70%;"><div class="val">7<small>/ 15</small></div>
              <button class="lp-ring-click" data-type="college" aria-label="View saved colleges"></button>
            </div>
            <div class="ringlabel">Colleges</div>
          </div>
          <div style="text-align:center">
            <div class="ringstat" style="--pct:55%;"><div class="val">3<small>posts</small></div>
              <button class="lp-ring-click" data-type="social" aria-label="View saved social"></button>
            </div>
            <div class="ringlabel">Social</div>
          </div>
        
          <div style="text-align:center">
            <div class="ringstat" style="--pct:30%;"><div class="val">2<small>next 30d</small></div>
              <button class="lp-ring-click" data-type="upcoming" aria-label="View upcoming deadlines"></button>
            </div>
            <div class="ringlabel">Upcoming Deadlines</div>
          </div>
</div>
      </div>
    </article>

    <article class="card lp-calendar-tile" id="lpOpenCalendarTile" role="button" tabindex="0" aria-label="Open application calendar">
      <div class="card-title">Calendar</div>
      <div class="card-body">Track application deadlines and mark “Submitted”.</div>

      <div class="lp-cal-preview">
        <div class="lp-cal-preview-top">
          <div class="lp-cal-preview-month" id="lpCalPreviewMonth">January</div></div>
        <div class="lp-cal-mini-grid" id="lpCalMiniGrid" aria-hidden="true"></div>
      </div>
</article>

<article class="card lp-deadlines-tile">
      <div class="card-title">Deadlines</div>
      <div class="card-body">Next up across your saved colleges.</div>

      <div class="lp-deadlines-2col" id="lpDeadlineTileList" style="margin-top: 14px;"></div>
      <div class="lp-deadlines-more" id="lpDeadlineTileMore"></div>
    </article>
  </div>
</section>
  </div>
  <script>
(function(){
  const p = (location.pathname.split('/').pop() || 'index.html').toLowerCase();
  document.querySelectorAll('header nav a').forEach(a=>{
    const href = (a.getAttribute('href')||'').toLowerCase();
    a.classList.toggle('active', href === p);
  });
})();
</script>
  
<!-- Saved Items Modal -->
<div id="lpModal" class="lp-modal hidden" aria-hidden="true">
  <div class="lp-modal-backdrop" data-close="1"></div>
  <div class="lp-modal-card" role="dialog" aria-modal="true" aria-labelledby="lpModalTitle">
    <div class="lp-modal-header">
      <h3 id="lpModalTitle">Saved</h3>
      <button id="lpModalClose" class="lp-x" aria-label="Close">✕</button>
    </div>
    <div id="lpModalBody" class="lp-modal-body"></div>
    <div class="lp-modal-footer">
  <div style="display:flex;align-items:center;gap:12px;flex-wrap:wrap;">
    <a href="saved-list.html" class="lp-secondary-link">View full list</a>
    <button id="lpExportExcel" class="remove-btn" type="button">Export Excel</button>
    <button id="lpExportWord" class="remove-btn" type="button">Export Word</button>
  </div>
  <button id="lpClearType" class="lp-danger" type="button">Clear</button>
</div>
  </div>
</div>

<!-- Calendar Overlay -->
<div id="lpCalOverlay" class="lp-cal-overlay" aria-hidden="true">
  <div class="lp-cal-shell" role="dialog" aria-modal="true" aria-label="Application Calendar">
    <div class="lp-cal-head">
      <div>
        <div class="lp-cal-head-title">Application Calendar</div>
        <div class="lp-cal-head-sub">Deadlines auto-populate from your saved colleges. Keep it simple: track deadlines and mark “Submitted”.</div>
      </div>
      <button class="lp-cal-close" id="lpCalClose" type="button" aria-label="Close calendar">Close</button>
    </div>

    <div class="lp-cal-controls">
      <div class="lp-cal-nav">
        <button class="lp-cal-icon" id="lpCalPrev" type="button" aria-label="Previous month">‹</button>
        <div class="lp-cal-month" id="lpCalMonth">—</div>
        <button class="lp-cal-icon" id="lpCalNext" type="button" aria-label="Next month">›</button>
      </div>
      <div>
        <select class="lp-cal-select" id="lpCalView" aria-label="Calendar view">
          <option value="month" selected>Month</option>
          <option value="week">Week</option>
        </select>
      </div>
    </div>

    <div class="lp-cal-white">
      <div class="lp-cal-dow">
        <div>Sun</div><div>Mon</div><div>Tue</div><div>Wed</div><div>Thu</div><div>Fri</div><div>Sat</div>
      </div>
      <div class="lp-cal-grid" id="lpCalGrid"></div>
    </div>
  </div>
</div>

<!-- Mini details modal -->
<div id="lpCalMiniBg" class="lp-cal-mini-bg" aria-hidden="true">
  <div class="lp-cal-mini">
    <div class="lp-cal-mini-head">
      <div class="lp-cal-mini-title" id="lpCalMiniTitle">Deadline</div>
      <button class="lp-cal-mini-close" id="lpCalMiniClose" type="button" aria-label="Close details">Close</button>
    </div>
    <div class="lp-cal-mini-body" id="lpCalMiniBody"></div>
  </div>
</div>

<script>
(() => {
  const KEY="lp_saved_items_v1";
  const getSaved=()=>{ try { return JSON.parse(localStorage.getItem(KEY) || "[]"); } catch(e) { return []; } };
  const setSaved=(items)=>localStorage.setItem(KEY, JSON.stringify(items));
  const esc=(s)=>(s??"").toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");

  function closeModal(){
    const modal=document.getElementById("lpModal");
    if(!modal) return;
    modal.classList.add("hidden");
    modal.setAttribute("aria-hidden","true");
  }

  function renderTable(headers, rows){
    return `
      <table id="lpSavedTable" style="width:100%;border-collapse:collapse;">
        <thead>
          <tr>${headers.map(h=>`<th style="text-align:left;padding:8px;color:#cbd5f5;border-bottom:1px solid rgba(255,255,255,.10);">${esc(h)}</th>`).join("")}</tr>
        </thead>
        <tbody>
          ${rows.length ? rows.map((r,i)=>`
            <tr>
              <td style="padding:8px;border-bottom:1px solid rgba(255,255,255,.06);">${i+1}</td>
              ${r.map(c=>`<td style="padding:8px;border-bottom:1px solid rgba(255,255,255,.06);">${esc(c)}</td>`).join("")}
            </tr>`).join("") : `
            <tr><td colspan="${headers.length}" style="padding:10px;color:#cbd5f5;">No saved items yet.</td></tr>
          `}
        </tbody>
      </table>`;
  }

  function openSaved(type){
    const modal=document.getElementById("lpModal");
    if(!modal) return;

    const items=getSaved().filter(x=>x.type===type);
    const titleMap={college:"Saved Colleges", essay:"Saved Essays", social:"Saved Social Posts"};
    document.getElementById("lpModalTitle").textContent = titleMap[type] || "Saved";

    let headers=["#"], rows=[];
    if(type==="college"){
      headers=["#","College Name","Fit","Deadline","Saved"];
      rows=items.map(i=>[i.name||"—", i.fit||"—", i.deadline||"—", i.savedOn||"—"]);
    } else if(type==="essay"){
      headers=["#","University / College","Essay Subject","Saved"];
      rows=items.map(i=>[i.college||i.name||"—", i.subject||"—", i.savedOn||"—"]);
    } else if(type==="social"){
      headers=["#","Platform","Post Type","Saved"];
      rows=items.map(i=>[i.platform||"—", i.postType||"—", i.savedOn||"—"]);
    }

    document.getElementById("lpModalBody").innerHTML = renderTable(headers, rows);
    modal.classList.remove("hidden");
    modal.setAttribute("aria-hidden","false");

    // Clear
    const clearBtn=document.getElementById("lpClearType");
    if(clearBtn) clearBtn.onclick=()=>{
      setSaved(getSaved().filter(x=>x.type!==type));
      openSaved(type);
    };

    // Exports
    const exX=document.getElementById("lpExportExcel");
    const exW=document.getElementById("lpExportWord");
    if(exX) exX.onclick=()=>exportCSV(type);
    if(exW) exW.onclick=()=>exportWord(type);
  }

  function exportCSV(type){
    const table=document.getElementById("lpSavedTable");
    if(!table) return;
    const lines=[...table.querySelectorAll("tr")].map(tr=>
      [...tr.children].map(td=>`"${(td.textContent||"").replace(/"/g,'""').trim()}"`).join(",")
    ).join("\n");
    const blob=new Blob([lines],{type:"text/csv;charset=utf-8"});
    const a=document.createElement("a");
    a.href=URL.createObjectURL(blob);
    a.download=`LaunchPathAI_${type}_saved.csv`;
    document.body.appendChild(a); a.click(); a.remove();
  }

  function exportWord(type){
    const title=document.getElementById("lpModalTitle")?.textContent||"Saved";
    const table=document.getElementById("lpSavedTable")?.outerHTML||"";
    const doc=`<html><head><meta charset="utf-8"><title>${esc(title)}</title></head><body><h2>${esc(title)}</h2>${table}</body></html>`;
    const blob=new Blob([doc],{type:"application/msword"});
    const a=document.createElement("a");
    a.href=URL.createObjectURL(blob);
    a.download=`LaunchPathAI_${type}_saved.doc`;
    document.body.appendChild(a); a.click(); a.remove();
  }

  function bindRings(){
    const map={colleges:"college", essays:"essay", social:"social"};
    document.querySelectorAll(".ringlabel").forEach(lbl=>{
      const type=map[(lbl.textContent||"").trim().toLowerCase()];
      if(!type) return;
      const wrap=lbl.parentElement;
      const ring=wrap ? wrap.querySelector(".ringstat") : null;
      if(!ring) return;

      // add a full overlay button if missing
      let btn = ring.querySelector(".lp-ring-link");
      if(!btn){
        btn=document.createElement("button");
        btn.type="button";
        btn.className="lp-ring-link";
        ring.appendChild(btn);
      }
      btn.setAttribute("aria-label","Open saved " + type);
      btn.onclick=(e)=>{ e.preventDefault(); openSaved(type); };
      ring.style.cursor="pointer";
    });
  }

  function bindModalClose(){
    document.addEventListener("click",(e)=>{
      if(e.target?.id==="lpModalClose" || e.target?.dataset?.close==="1"){ closeModal(); }
    });
    document.addEventListener("keydown",(e)=>{ if(e.key==="Escape") closeModal(); });
  }

  if(document.readyState==="loading"){
    document.addEventListener("DOMContentLoaded", ()=>{ bindRings(); bindModalClose(); });
  } else {
    bindRings(); bindModalClose();
  }
})();
</script>

<script>
(() => {
  const SAVED_KEY = "lp_saved_items_v1";

  const $ = (id) => document.getElementById(id);

  const months = ["January","February","March","April","May","June","July","August","September","October","November","December"];
  const setPreviewMonth = () => {
    const el = $("lpCalPreviewMonth");
    if(!el) return;
    const now = new Date();
    el.textContent = months[now.getMonth()];
  };
  const pad2 = (n) => String(n).padStart(2,"0");
  const ymd = (d) => `${d.getFullYear()}-${pad2(d.getMonth()+1)}-${pad2(d.getDate())}`;
  const parseYmd = (s) => {
    const parts = (s||"").split("-").map(Number);
    if(parts.length !== 3 || !parts[0]) return null;
    return new Date(parts[0], (parts[1]||1)-1, parts[2]||1);
  };
  const fmtShort = (s) => {
    const d = parseYmd(s);
    if(!d) return "—";
    return `${months[d.getMonth()].slice(0,3)} ${d.getDate()}`;
  };
  const esc = (s) => (s??"").toString()
    .replace(/&/g,"&amp;").replace(/</g,"&lt;")
    .replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");

  const getSaved = () => { try { return JSON.parse(localStorage.getItem(SAVED_KEY) || "[]"); } catch(e) { return []; } };

  function sampleDeadlines(){
    // keep these safely in the future relative to "now"
    const now = new Date();
    const y = now.getFullYear() + (now.getMonth() >= 9 ? 1 : 0); // if late year, push to next year
    return [
      { college:"NYU", deadline:`${y}-02-15`, type:"Regular Decision", status:"Not started" },
      { college:"Rutgers", deadline:`${y}-03-01`, type:"Regular Decision", status:"In progress" },
      { college:"Penn State", deadline:`${y}-02-01`, type:"Rolling (Priority)", status:"Not started" },
      { college:"UConn", deadline:`${y}-02-15`, type:"Regular Decision", status:"Submitted" },
      { college:"Boston University", deadline:`${y}-01-04`, type:"Regular Decision", status:"Not started" }
    ];
  }

  function loadDeadlines(){
    const saved = getSaved().filter(x => (x?.type||"") === "college");
    const mapped = saved
      .map(x => ({
        college: x.name || x.college || "College",
        deadline: x.deadline || x.date || "",
        type: x.appType || x.typeLabel || "Deadline",
        status: x.status || "Not started"
      }))
      .filter(x => !!parseYmd(x.deadline));

    return mapped.length ? mapped : sampleDeadlines();
  }

  let deadlines = loadDeadlines();

  function upcomingSorted(){
    const today = ymd(new Date());
    return deadlines
      .filter(x => x.deadline >= today)
      .sort((a,b) => a.deadline.localeCompare(b.deadline));
  }

  function renderUpcoming(){
    const list = $("lpDeadlineTileList");
    const more = $("lpDeadlineTileMore");
    if(!list || !more) return;

    const upcoming = upcomingSorted();
    const show = upcoming.slice(0,6);

    list.innerHTML = "";
    show.forEach(item => {
      const badge = (item.college || "C").trim().slice(0,1).toUpperCase();
      const div = document.createElement("div");
      div.className = "lp-deadline-compact";
      div.innerHTML = `
        <div class="b">${esc(badge)}</div>
        <div>
          <div class="t">${esc(item.college)} — ${esc(fmtShort(item.deadline))}</div>
          <div class="s">${esc(item.type)} • ${esc(item.status)}</div>
        </div>
      `;
      div.addEventListener("click", () => openMini(item));
      list.appendChild(div);
    });

    const extra = Math.max(0, upcoming.length - show.length);
    more.textContent = extra ? `+${extra} more deadlines` : "";
  }

  // Mini calendar preview (tile)
  function renderMiniCalPreview(baseDate){
  const monthEl = $("lpCalPreviewMonth");
  const gridEl = $("lpCalMiniGrid");
  if(!monthEl || !gridEl) return;

  const d0 = baseDate ? new Date(baseDate) : new Date();
  const y = d0.getFullYear();
  const m = d0.getMonth();
  monthEl.textContent = months[m];

  // Today highlight (only if preview is the current month)
  const now = new Date();
  const todayNum = (now.getFullYear() === y && now.getMonth() === m) ? now.getDate() : null;

  // Deadline day markers (optional)
  const deadlineDays = new Set();
  deadlines.forEach(item => {
    if(!item.deadline) return;
    const dt = parseYmd(item.deadline);
    if(dt && dt.getFullYear() === y && dt.getMonth() === m){
      deadlineDays.add(dt.getDate());
    }
  });

  const first = new Date(y, m, 1);
  const startDow = first.getDay(); // 0=Sun
  const daysIn = new Date(y, m + 1, 0).getDate();

  const parts = [];
  const dow = ["S","M","T","W","T","F","S"];
  dow.forEach(ch => parts.push(`<div class="d">${ch}</div>`));

  // Leading blanks to align the 1st under the correct weekday
  for(let i=0;i<startDow;i++){
    parts.push(`<div class="n">&nbsp;</div>`);
  }

  // Actual month days ONLY (no trailing blanks after the last day)
  for(let day=1; day<=daysIn; day++){
    const isDeadline = deadlineDays.has(day);
    const isToday = (todayNum === day);
    const cls = `n${isDeadline ? " mark" : ""}${isToday ? " today" : ""}`;
    parts.push(`<div class="${cls}">${day}</div>`);
  }

  gridEl.innerHTML = parts.join("");
}

// Calendar overlay
  const overlay = $("lpCalOverlay");
  const openTile = $("lpOpenCalendarTile");
  const closeBtn = $("lpCalClose");
  const grid = $("lpCalGrid");
  const monthLabel = $("lpCalMonth");
  const prev = $("lpCalPrev");
  const next = $("lpCalNext");
  const view = $("lpCalView");

  // Mini modal
  const miniBg = $("lpCalMiniBg");
  const miniClose = $("lpCalMiniClose");
  const miniTitle = $("lpCalMiniTitle");
  const miniBody = $("lpCalMiniBody");

  function openOverlay(){
    if(!overlay) return;
    overlay.style.display = "flex";
    overlay.setAttribute("aria-hidden","false");
    if(view) view.value = "month";
    renderMonth();
  }
  function closeOverlay(){
    if(!overlay) return;
    overlay.style.display = "none";
    overlay.setAttribute("aria-hidden","true");
  }

  function openMini(item){
    if(!miniBg || !miniTitle || !miniBody) return;
    const d = parseYmd(item.deadline);
    miniTitle.textContent = `${item.college} — Deadline`;
    miniBody.innerHTML = `
      <div class="lp-cal-kv"><div class="lp-cal-k">College</div><div><strong>${esc(item.college)}</strong></div></div>
      <div class="lp-cal-kv"><div class="lp-cal-k">Deadline</div><div>${d ? `${months[d.getMonth()]} ${d.getDate()}, ${d.getFullYear()}` : "—"}</div></div>
      <div class="lp-cal-kv"><div class="lp-cal-k">Application Type</div><div>${esc(item.type)}</div></div>
      <div class="lp-cal-kv"><div class="lp-cal-k">Status</div><div>${esc(item.status)}</div></div>
      <div class="lp-cal-kv"><div class="lp-cal-k">Suggested Next Step</div><div>Open Essay Studio → draft your main personal statement.</div></div>
    `;
    miniBg.style.display = "flex";
    miniBg.setAttribute("aria-hidden","false");
  }
  function closeMini(){
    if(!miniBg) return;
    miniBg.style.display = "none";
    miniBg.setAttribute("aria-hidden","true");
  }

  if(miniClose) miniClose.addEventListener("click", closeMini);
  if(miniBg) miniBg.addEventListener("click", (e) => { if(e.target === miniBg) closeMini(); });

  let current = new Date();
  current = new Date(current.getFullYear(), current.getMonth(), 1);

  function indexByDate(){
    const map = new Map();
    deadlines.forEach(x => {
      if(!map.has(x.deadline)) map.set(x.deadline, []);
      map.get(x.deadline).push(x);
    });
    return map;
  }

  function renderMonth(){
    if(!grid || !monthLabel) return;
    monthLabel.textContent = `${months[current.getMonth()]} ${current.getFullYear()}`;
    grid.innerHTML = "";

    const y = current.getFullYear();
    const m = current.getMonth();
    const first = new Date(y,m,1);
    const start = first.getDay();
    const daysIn = new Date(y,m+1,0).getDate();
    const prevDays = new Date(y,m,0).getDate();
    const totalCells = 42;

    const map = indexByDate();

    for(let i=0;i<totalCells;i++){
      const cell = document.createElement("div");
      cell.className = "lp-cal-cell";
      const dayIndex = i - start + 1;

      let dateObj;
      let out = false;

      if(dayIndex <= 0){
        out = true;
        dateObj = new Date(y,m-1, prevDays + dayIndex);
      }else if(dayIndex > daysIn){
        out = true;
        dateObj = new Date(y,m+1, dayIndex - daysIn);
      }else{
        dateObj = new Date(y,m, dayIndex);
      }

      if(out) cell.classList.add("out");

      const key = ymd(dateObj);
      const labelMonth = out ? months[dateObj.getMonth()].slice(0,3) : "";
      cell.innerHTML = `<div class="lp-cal-date"><span>${dateObj.getDate()}</span>${out ? `<span class="m">${labelMonth}</span>` : ""}</div>`;

      const evts = map.get(key) || [];
      evts.slice(0,3).forEach(evt => {
        const e = document.createElement("div");
        e.className = "lp-cal-evt";
        const initial = (evt.college || "C").trim()[0].toUpperCase();
        e.innerHTML = `
          <div class="lp-cal-ava">${esc(initial)}</div>
          <div>
            <div class="name">${esc(evt.college)}</div>
            <div class="meta">${esc(evt.type)} • ${esc(evt.status)}</div>
          </div>
        `;
        e.addEventListener("click", (ev) => { ev.stopPropagation(); openMini(evt); });
        cell.appendChild(e);
      });

      if(evts.length > 3){
        const more = document.createElement("div");
        more.className = "lp-cal-more";
        more.textContent = `+${evts.length - 3} more`;
        cell.appendChild(more);
      }

      grid.appendChild(cell);
    }
  }

  function renderWeekStub(){
    if(!grid || !monthLabel) return;
    monthLabel.textContent = `${months[current.getMonth()]} ${current.getFullYear()} • Week view (Phase 2)`;
    grid.innerHTML = "";
    const stub = document.createElement("div");
    stub.style.gridColumn = "1 / -1";
    stub.style.padding = "18px";
    stub.innerHTML = `
      <div style="font-weight:800; color:#0F172A; margin-bottom:6px;">Week view is optional.</div>
      <div style="color:#64748B; font-size:13px; line-height:1.45;">
        For MVP, month view is the cleanest. If students ask for it, we can add week view later without changing the data model.
      </div>
    `;
    grid.appendChild(stub);
  }

  function rerender(){
    if(!view || view.value === "month") renderMonth();
    else renderWeekStub();
  }
if(openTile) {
    openTile.addEventListener("click", openOverlay);
    openTile.addEventListener("keydown", (e) => {
      if(e.key === "Enter" || e.key === " "){ e.preventDefault(); openOverlay(); }
    });
  }
  if(closeBtn) closeBtn.addEventListener("click", closeOverlay);
  if(overlay) overlay.addEventListener("click", (e) => { if(e.target === overlay) closeOverlay(); });

  if(prev) prev.addEventListener("click", () => { current = new Date(current.getFullYear(), current.getMonth()-1, 1); rerender(); });
  if(next) next.addEventListener("click", () => { current = new Date(current.getFullYear(), current.getMonth()+1, 1); rerender(); });
  if(view) view.addEventListener("change", rerender);

  // Update deadlines if storage changes
  window.addEventListener("storage", (e) => {
    if(e.key === SAVED_KEY){
      deadlines = loadDeadlines();
      renderUpcoming();
      renderMiniCalPreview(new Date());
      rerender();
    }
  });

  // Initial render
  setPreviewMonth();
  renderMiniCalPreview(new Date());
  renderUpcoming();
})();
</script>
</body>
</html>